---
layout: post
title: Linux 如何创建SSH快捷登录
categories: [linux]
tags: [linux]
fullview: false
comments: true
---

如果你经常需要SSH到多个服务器，记住所有不同的用户名，主机名，IP地址，这实在令人头痛和低效的，即使是你在有私钥的情况下。
实际上很容易创建命令行快捷方式来解决这个问题。有两个主要的方法来做，我们将讨论每个的优缺点。

## 方法1， 使用`ssh config`
第一步是导航到的`.ssh`文件夹

```sh
$ cd ~/.ssh
```

创建一个`config`文件
```sh
vim config
```

您可以指定主机名，用户名，端口和私钥。有关选项的完整列表，请访问[官方文档](http://man.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/ssh_config.5?query=ssh_config%26sec=5)。
下面是一个多种配置的例子
```sh
Host scotch
    HostName scotch.io
    User nick
<br>
Host example2
    HostName example.com
    User root
<br>
Host example3
    HostName 64.233.160.0
    User userxyz123
    Port 56000
<br>
Host amazon1
    HostName ec2.amazon.com
    User ec2-user
    IdentityFile /path/to/special/privatekey/amazon.pem
```

现在你可以直接使用快捷方式登录服务端
```sh
ssh scotch
ssh example2
ssh example3
ssh amazon1
```

如果这时候还不行，尝试一下更改`config`文件的权限
```sh
chmod 600 ~/.ssh/config
```


## 方法2， 创建别名方法

此方法涉及为您的shell（或终端）创建别名。你可以使用它来创建你想要的任何类型的快捷方式，但很多人使用它们的`SSH`快捷方式。
要进行设置，您需要导航到`.bash_aliases`文件（或某些人在`.bashrc`或`.bash_profile`中执行此操作）。
以下命令将创建`.bash_aliases`文件（如果它不存在），或只是编辑它，如果它已经使用Vim。

```sh
vim ~/.bash_aliases
```

在这里，您可以添加任意数量的快捷方式。以下是如何从上面添加相同的SSH快捷方式：

```sh
alias scotch='ssh nick@scotch.io'
alias example2='ssh root@example.com'
alias example3='ssh userxyz123@64.233.160.0 -p 56000'
alias amazon1='ssh ec2-user@ec2.amazon.com -i /path/to/special/privatekey/amazon.pem'
```

添加并保存文件后，您需要使用以下命令重新启动别名文件：
```sh
source ~/.bash_aliases
```


一旦完成，您现在可以通过键入以下内容在`SSH`输入框
```sh
scotch
example2
example3
amazon1
```

这种方法提供了第一种方法可能无法提供的额外的灵活性，但它真正归结于大多数用例的偏好问题。